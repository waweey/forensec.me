<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Forensec.me</title>
  <link href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap" rel="stylesheet">
  <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
  
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Fira Code', monospace;
      background-color: #f2f4f8;
      color: #1e1e1e;
    }
    nav {
      display: flex;
      justify-content: space-between;
      padding: 1rem 2rem;
      background-color: #fff;
      border-bottom: 1px solid #ddd;
      font-weight: bold;
      font-size: 1rem;
    }
    header {
      text-align: center;
      padding: 2rem 1rem 0;
    }
    .hero-image {
      max-width: 100%;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }
    main {
      max-width: 880px;
      margin: 2rem auto;
      padding: 2rem;
      background-color: #fff;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    }
    .intro code {
      background-color: #eef2f6;
      padding: 0.2rem 0.5rem;
      border-radius: 4px;
    }
    a {
      color: #0055cc;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <nav>
    <div><a href="members.html">Members</a></div>
    <div>Science doesn‚Äôt guess. It reveals</div>
  </nav>
  <header>
    <img src="bb.png" alt="Forensic Digital Banner" class="hero-image">
  </header>
  <main>
    <section class="intro">
      <p><strong><code>Hello, Enthusiast üëã</code></strong></p>
      <p>Welcome to <strong><code>Forensec.me</code></strong> ‚Äî a space at the intersection of <code>forensics</code>, <code>cybersecurity</code>, and <code>bioinformatics</code>.</p>
      <p><code>DNA reveals truth.</code> <br><code>Code uncovers patterns.</code></p>
    </section>

    <section id="post-box">
      <h2>üìù Create a Post</h2>
      <form id="postForm">
        <label for="postName">Your Name:</label><br>
        <input type="text" id="postName" placeholder="Anonymous" style="width:100%; padding:0.5rem;"><br><br>
        <label for="postTitle">Title:</label><br>
        <input type="text" id="postTitle" style="width:100%; padding:0.5rem;"><br><br>
        <label for="postContent">Content:</label><br>
        <div id="editor" style="height: 200px;"></div><br>
        <button type="submit">Post</button>
      </form>
      <div id="postList" style="margin-top:2rem;"></div>
    </section>

    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
    
    <script>
      const quill = new Quill('#editor', {
        theme: 'snow',
        modules: {
          toolbar: [['bold', 'italic', 'underline'], [{ list: 'bullet' }], ['clean']]
        }
      });

      const postForm = document.getElementById('postForm');
      const postList = document.getElementById('postList');

      postForm.addEventListener('submit', e => {
        e.preventDefault();
        const name = document.getElementById('postName').value.trim();
        const title = document.getElementById('postTitle').value.trim();
        const content = quill.root.innerHTML.trim();

        if (!name || !title || content === '<p><br></p>') {
          alert('All fields are required.');
          return;
        }

        const post = {
          id: 'post-' + Date.now(),
          name,
          title,
          content,
          timestamp: new Date().toLocaleString()
        };

        const posts = JSON.parse(localStorage.getItem('forumPosts') || '[]');
        posts.push(post);
        localStorage.setItem('forumPosts', JSON.stringify(posts));

        renderPost(post);
        postForm.reset();
        quill.setContents([]);
      });

      function renderPost(post) {
        const container = document.createElement('div');
        container.style.border = '1px solid #ccc';
        container.style.padding = '1rem';
        container.style.marginBottom = '1rem';
        container.innerHTML = `
          <h3>${post.title}</h3>
          <p><em>by ${post.name} at ${post.timestamp}</em></p>
          <div>${post.content}</div>
          <hr>
          <input type="text" class="reply-name" placeholder="Your name"><br>
          <div class="reply-editor" style="height: 100px;"></div>
          <button class="reply-btn">Reply</button>
          <div class="replies"></div>
        `;

        const replyEditor = container.querySelector('.reply-editor');
        const quillReply = new Quill(replyEditor, {
          theme: 'snow',
          modules: {
            toolbar: [['bold', 'italic', 'underline'], [{ list: 'bullet' }], ['clean']]
          }
        });

        const replyBtn = container.querySelector('.reply-btn');
        const replyName = container.querySelector('.reply-name');
        const replyBox = container.querySelector('.replies');

        replyBtn.addEventListener('click', () => {
          const name = replyName.value.trim();
          const reply = quillReply.root.innerHTML.trim();

          if (!name || reply === '<p><br></p>') {
            alert('Reply and name are required.');
            return;
          }

          const replyElement = document.createElement('div');
          replyElement.innerHTML = `<strong>${name}:</strong> ${reply}`;
          replyElement.style.marginTop = '0.5rem';
          replyBox.appendChild(replyElement);

          quillReply.setContents([]);
          replyName.value = '';
        });

        postList.prepend(container);
      }

      window.addEventListener('DOMContentLoaded', () => {
        const posts = JSON.parse(localStorage.getItem('forumPosts') || '[]');
        posts.forEach(renderPost);
      });
    </script>
  </main>
</body>
</html>
